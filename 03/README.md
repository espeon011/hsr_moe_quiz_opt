# 教育部の難問その 3

## 問題文

> 数日前にレムスティーン家でタイヤを盗んだ犯人を見つけました。
> 当時、シルバーメインは容疑者をジャック、クリス、エリックの3人に絞り込んでいました。3人は言い争って譲りません。
> ジャックは「タイヤを盗んだのはクリスだ！」と言いました。
> 頭のいいジェパードはすぐに犯人を察しました。
> 自分の副官を試すため、ジェパードはすぐに誰が泥棒かを言わずに、「おかしいな。3人の中で泥棒だけが嘘をついてない」と言いました。
> レムスティーン家の車のタイヤを盗んだのは一体誰でしょう？

## 解き方

暗黙の了解として犯人は 1 人だけであるとする. 
ジャックが犯人だとするとジェパードの発言から正直者のはずだが, ジャックは犯人はクリスであると主張しているため, 矛盾. 
従ってジャックは犯人ではなく, ジェパ―ドの発言から嘘をついていることになる. 
ジャックの発言は嘘であるためタイヤを盗んだのはクリスではなく, 残ったエリックが犯人となる. 

仮に犯人が 1 人だけではなく, 1 人以上と条件を緩めた場合, 

- 3 人とも犯人
- ジャックとクリスが犯人でエリックは無実

のパターンも存在する. 

犯人が 0 人の場合も許すと全員が無実である(よって全員嘘つき)ような解も存在する. 

## 定式化

ジャック, クリス, エリックをそれぞれ $1$, $2$, $3$ とする. 

### 決定変数

- $x_i \in \{0, 1\}$ (for $i = 1, 2, 3$): $i$ は正直者
- $y_i \in \{0, 1\}$ (for $i = 1, 2, 3$): $i$ は嘘つき
- $z_i \in \{0, 1\}$ (for $i = 1, 2, 3$): $i$ は犯人

### 制約条件

- $x_i + y_i = 1$ (for $i = 1, 2, 3$): 正直者か嘘つきのどちらか一方
- $x_1 = z_2$: ジャックはクリスが犯人だと主張している(以下の 2 つと同じ)
	- $x_1 \le z_2$: ジャックが正直者ならクリスは犯人
	- $y_1 \le 1 - z_2$: ジャックが嘘つきならクリスは犯人ではない
- $z_i = x_i$ (for $i = 1, 2, 3$): 犯人だけが正直者(以下の 2 つと同じ)
	- $z_i \le x_i$ (for $i = 1, 2, 3$): 犯人は嘘をついていない
	- $1 - z_i \le y_i$ (for $i = 1, 2, 3$): 犯人以外は嘘をついている

### 実行結果

犯人が 1 人だけとは仮定せずに計算している. 

```shell
$ dotnet run -c Release
Solution #1: time = 0.00 s
  Jack  is a Liar
  Chris is a Liar
  Eric  is a Liar
Solution #2: time = 0.01 s
  Jack  is a Liar
  Chris is a Liar
  Eric  is a Honest Criminal
Solution #3: time = 0.01 s
  Jack  is a Honest Criminal
  Chris is a Honest Criminal
  Eric  is a Honest Criminal
Solution #4: time = 0.01 s
  Jack  is a Honest Criminal
  Chris is a Honest Criminal
  Eric  is a Liar
Number of solutions found: 4
```
